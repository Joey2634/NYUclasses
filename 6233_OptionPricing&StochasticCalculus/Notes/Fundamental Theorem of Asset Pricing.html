<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Keith A. Lewis">
  <title>Fundamental Theorem of Asset Pricing</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="math.css">
  <script src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
    var mathElements = document.getElementsByClassName("math");
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") { katex.render(texText.data, mathElements[i], { displayMode: mathElements[i].classList.contains("display"), throwOnError: false } );
    }}});</script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css">
</head>
<body>
<html><head></head><body><header id="title-block-header">
<h1 class="title">Fundamental Theorem of Asset Pricing</h1>
<p class="author">Keith A. Lewis</p>
</header>
<p><em>Instruments</em> have <em>prices</em> and <em>cash flows</em>. Ignoring bid-ask spread, among other realities involved with actual trading, we assume instruments can be bought or sold in any amount at their given price. Owning an instrument entails cash flows paid by instrument issuers to instrument holders. For example, bonds pay coupons and stocks pay dividends.</p>
<p>Let <span class="math inline">I</span> be the set of market instruments. A <em>model</em> of possible future <em>prices</em> and <em>cash flows</em> is defined by <span class="math inline">\boldsymbol{R}^I</span>-valued stochastic processes <span class="math inline">(X_t)_{t\ge0}</span> and <span class="math inline">(C_t)_{t\ge0}</span>. THe <span class="math inline">i</span>-th component of the vector is the price and cash flow associated with instrument <span class="math inline">i\in I</span> at time <span class="math inline">t</span>.</p>
<p>A <em>trading strategy</em> is a finite number of increasing <em>stopping times</em> <span class="math inline">(τ_j)</span>, the time to trade can depend only on available information, and amounts to purchase <span class="math inline">(Γ_j)</span> in each instrument at <span class="math inline">τ_j</span>.</p>
<p>Trades accumulate to a <em>position</em> <span class="math inline">Δ_t = \sum_{τ_j < t} Γ_j = \sum_{s < t} Γ_s</span> where <span class="math inline">Γ_s = Γ_j</span> when <span class="math inline">s = τ_j</span>. Note the strict inequality. Trades take some time to <em>settle</em> before belonging to a position.</p>
<p>The <em>value</em>, or <em>mark-to-market</em>, of a trading strategy at time <span class="math inline">t</span> is <span class="math inline">V_t = (Δ_t + Γ_t)\cdot X_t</span>. It represents the amount (potentially) provided by unwinding the existing position and trades just execute at price <span class="math inline">X_t</span>.</p>
<p>Trading strategies result in cash flows to the <em>trading account</em>. At time <span class="math inline">t</span> the amount <span class="math inline">A_t = Δ_t\cdot C_t - Γ_t\cdot X_t</span> is accrued to the account. Cash flows at time <span class="math inline">t</span> proportional to the existing position are credited and the cost of trades executed at <span class="math inline">t</span> is debited.</p>
<h2 id="arbitrage">Arbitrage</h2>
<p>Arbitrage exists for the model $(X_t), <span class="math inline">(C_t)\rangle</span> if there is a trading strategy <span class="math inline">(τ_j, Γ_j)</span> with <span class="math inline">\sum_j Γ_j = 0</span>, <span class="math inline">A_{τ_0} > 0</span>, and <span class="math inline">A_t\ge0</span> for <span class="math inline">t > τ_0</span>. The first trade makes money and the trading account never has a negative cash flow after that. The strategy must <em>close out</em> (<span class="math inline">\sum_j Γ_j = 0</span>) eventually.</p>
<p><strong>Theorem</strong>. (Fundamental Theorem of Asset Pricing) <em>A model <span class="math inline">\langle (X_t)</span>, <span class="math inline">(C_t)\rangle</span> has no arbitrage if and only if there exists a positive adapted process (<em>deflator</em>) <span class="math inline">(D_t)</span> with <span class="math display"> X_t D_t = E_t[X_u D_u + \sum_{t < s \le u} C_s D_s], u\ge t, </span> where <span class="math inline">E_t</span> is the conditional expectation at time <span class="math inline">t</span></em>.</p>
<p>If <span class="math inline">C_t = 0</span> this says the deflated price is a martingale. If <span class="math inline">E_t[X_u D_u]</span> goes to zero as <span class="math inline">u</span> increase this says price is the present value of future cash flows.</p>
<p><strong>Exercise</strong>. <em>Show <span class="math display"> V_t D_t = E_t[V_u D_u + \sum_{t < s \le u} A_s D_s], u\ge t </span> using the definitions above</em>.</p>
<p><em>Hint</em>. For <span class="math inline">u > t</span> sufficiently small <span class="math inline">X_t D_t = E_t[X_u D_u + C_u D_u]</span> so <span class="math inline">V_t D_t = (Δ_t + Γ_t)\cdot X_t D_t = Δ_u\cdot X_t D_t</span>. Use <span class="math inline">Δ_t\cdot X_t = Γ_t\cdot X_t + A_t</span>. Prove <span class="math inline">V_t D_t = E_t[V_u D_u + A_u D_u]</span> and use induction.</p>
<p>Note how value <span class="math inline">V_t</span> corresponds to price <span class="math inline">X_t</span> and account <span class="math inline">A_t</span> corresponds to cash flow <span class="math inline">C_t</span>.<br>Trading strategies create synthetic instruments.</p>
<p>One direction of the proof is easy. If a deflator exists then there is no arbitrage since <span class="math inline">V_{τ_0} D_{τ_0} = E_{τ_0}[\sum_{τ_0 < s} A_s D_s] \ge 0</span>.</p>
<p><strong>Exercise</strong>. <em>Show <span class="math inline">V_{τ_0} = -A_{τ_0}</span></em>.</p>
<p>Since <span class="math inline">D_{τ_0} > 0</span> we must have <span class="math inline">A_{τ_0}\le0</span> for any closed out trading strategy.</p>
<h2 id="zero-coupon-bond">Zero Coupon Bond</h2>
<p>A <em>zero coupon bond</em> <span class="math inline">D(u)</span> has unit cash flow <span class="math inline">C^{D(u)}_u = C_t = 1</span> at <span class="math inline">u</span>. In an arbitrage-free model its price satisfies $D_t(u) <span class="math inline">X^{D(u}}_t D_t = D_t(u) D_t = E_t[1 D_u]</span>, <span class="math inline">t \le u</span>. This shows the deflator determines the price dynamics of zero coupon bonds, <span class="math inline">D_t(u) = D_t[D_u]/D_t</span>.</p>
<p><strong>Exercise</strong>. <em>Show the price at time zero is <span class="math inline">D_0(u) = E[D_u]</span></em>.</p>
<p>We also reuse <span class="math inline">D(u)</span> for <span class="math inline">D_0(u)</span>.</p>
<h2 id="forward-rate-agreement">Forward Rate Agreement</h2>
<p>A <em>forward rate agreement</em> <span class="math inline">F(u, Δu, c)</span> has cash flow <span class="math inline">C^{F(u,Δu,c)}_u = -1</span> at <span class="math inline">u</span> and cash flow <span class="math inline">C^{F(u,Δu;c)}_v = 1 + cΔu</span> at <span class="math inline">v = u + Δu</span>, where <span class="math inline">u</span> is the <em>effective date</em>, <span class="math inline">Δu</span> is the <em>tenor</em>, and <span class="math inline">c</span> is the <em>coupon</em>. The <em>termination date</em> is <span class="math inline">v = u + Δu</span>.</p>
<p>The <em>par forward</em> at <span class="math inline">t \le u</span>, <span class="math inline">F_t(u,Δu)</span>, is defined as the coupon making the price at time <span class="math inline">t</span> zero, <span class="math inline">0 = E_t[-1 D_u + (1 + F_t(u,Δu)Δu) D_v]</span>.</p>
<p><strong>Exercise</strong>. <em>Show <span class="math inline">F_t(u,v) = (D_t(u)/D_t(v) - 1)/Δu</span></em>.</p>
<p>This shows the deflator determines the price dynamics of the par forward.</p>
<h2 id="repurchase-agreement">Repurchase Agreement</h2>
<p>A _repurchase agreement, or <em>repo</em>, is a forward rate agreement with a tenor of one busuiness day.</p>
<p><strong>Exercise</strong>. <em>Use <span class="math inline">D_t > 0</span> to show there exist a stochastic process <span class="math inline">f_t</span> with <span class="math inline">D_t = e^{-\int_0^t f_s\,ds}</span></em>.</p>
<p>We call <span class="math inline">f_t</span> the <em>continuously compounded instantaneous forward rate</em>. A repo over the interval <span class="math inline">[t, t + dt]</span> has cash flow <span class="math inline">-1</span> at <span class="math inline">t</span> and <span class="math inline">e^{f_t\,dt} \approx 1 + f_t\,dt</span> at <span class="math inline">t + dt</span>. In an arbitrage-free model the repo rates determine the deflator.</p>
<h2 id="unified-model">Unified Model</h2>
<p>The difficult direction in the proof of the FTAP is to show a deflator exists. We can use the deflator <span class="math inline">D_t = e^{-\int_0^t f_s\,ds}</span> where <span class="math inline">f_t</span> is the repo rate at <span class="math inline">t</span> and any <span class="math inline">\boldsymbol{R}^I</span>-valued martingale <span class="math inline">(M_t)</span> to produce arbitrage-free models: <span class="math display"> X_t D_t = M_t - \sum_{s\le t} C_s D_s </span> is arbitrage free.</p>
<p><strong>Exercise</strong>. <em>Show <span class="math inline">X_t D_t = M_t - \sum_{s\le t} C_s D_s</span> implies <span class="math inline">X_t D_t = E_t[X_u D_u + \sum_{t < s \le u} C_s D_s]</span></em>.</p>
<p><em>Hint</em>. Substitute <span class="math inline">X_u D_u</span> in the second formula by the first formula. Use <span class="math inline">\sum_{s \le t} + \sum_{t < s \le u} = \sum_{s \le u}</span>.</p>
<h2 id="derivatives">Derivatives</h2>
<p>A <em>deriviative</em> is a contract between two parties for a sequence of future exchanges. If the contract specifies amounts <span class="math inline">(\hat{A}_j)</span> at times <span class="math inline">(\hat{τ}_j)</span> <em>and there exists a trading strategy</em> <span class="math inline">(τ_j)</span>, <span class="math inline">(Γ_j)</span> with <span class="math inline">A_t = \hat{A}_t</span> for all <span class="math inline">t</span> then the value of the derivative is the cost of the initial hedge <span class="math display"> V_0 = E[\sum{t > 0} A_t D_t]. </span> In practice, it is never the caee such a trading strategy exists and the problem traders and risk managers confront on a daily basis is dealing with the difference between the actual hedge value and the value produced by the model.</p>
<p>If there exists a replicating trading strategy then <span class="math inline">V_0 = (Δ_0 + Γ_0)\cdot X_0 = Γ_0\cdot X_0</span>, since the initial position <span class="math inline">Δ_0 = 0</span>, and the first trade should be <span class="math inline">Γ_0 = dV_0/dX_0</span>.</p>
<p>At any time <span class="math inline">t</span> <span class="math display"> V_t = E_t[\sum{u > t} A_u D_u]. </span></p></body></html>
</body></html>